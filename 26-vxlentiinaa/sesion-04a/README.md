# sesion-04a

26-08-2025

## Apuntes

- Nos pasaron cajitas para guardar nuestros arduinos, las pantallas, cables, etc.
- También nos pasaron protoboards y la pantal SSD1306
- DigitalWrite: para leer los LEDS (input)
- AnalogRead: output

|Digital|Análogo|
|---|---|
|discreto|continuo|
|ej: hora|ej: tiempo|
|minecraft|mundo|
|pixel|foto|
|foto|analoga|

Usar el ejemplo del contador para que se vea las cosas en la pantalla

En esta clase avanzamos en nuestro proyecto, donde buscamos diferentes tipos de referentes para poder realizar un código. Primero nos guíamos del código visto en clases, para luego hacer ciertas modificaciones y lograr que se vea algo en la pantalla. Por otro lado, colocabamos imagenes ya hechas de [Wokwi Animator](https://animator.wokwi.com/) para entender un poco el movimiento y el código de la imagen. Acá cambiamos algunos parámetros, como:

```cpp
#define SCREEN_I2C_ADDR 0x3D
```

Se cambió a

```cpp
#define SCREEN_I2C_ADDR 0x3C
```

![Wokwi](./imagenes/wokwiAnimator.png)

También empezamos a definir que era lo que queríamos hacer en nuestro proyecto, mis compañeras Sofía y Anto buscaron distintos tipos de poemas, comenzaron a realizar bocetos y buscar información. Sofia Cartes y yo comenzamos a intervenir el código principal para lograr distintas cosas y también buscamos información sobre algunos códigos de arduino.

- Código modificado:

```cpp
#include <Adafruit_GFX.h>
#include <Adafruit_SSD1306.h>

#define SCREEN_I2C_ADDR 0x3C // or 0x3C
#define SCREEN_WIDTH 128     // OLED display width, in pixels
#define SCREEN_HEIGHT 64     // OLED display height, in pixels
#define OLED_RST_PIN -1      // Reset pin (-1 if not available)

Adafruit_SSD1306 display(128, 64, &Wire, OLED_RST_PIN);

// OLED Animation: maneki
// Code auto-generated by https://wokwi.com/animator, graphics by icons8.com

#define FRAME_DELAY (42)
#define FRAME_WIDTH (64)
#define FRAME_HEIGHT (64)
#define FRAME_COUNT (sizeof(frames) / sizeof(frames[0]))
const byte PROGMEM frames[][512] = {
  {0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,31,192,1,248,0,0,0,0,31,224,7,248,0,0,0,0,59,255,255,188...
}
};

void setup() {
  display.begin(SSD1306_SWITCHCAPVCC, SCREEN_I2C_ADDR);
}

int frame = 0;
void loop() {
  display.clearDisplay();
  display.drawBitmap(32, 0, frames[frame], FRAME_WIDTH, FRAME_HEIGHT, 1);
  display.display();
  frame = (frame + 1) % FRAME_COUNT;
  delay(FRAME_DELAY);
}
```

### Imágenes de los primeros poemas

![poema 1](./imagenes/poema-1.PNG)

![poema 2](./imagenes/poema-2.JPEG)

![poema 3](./imagenes/poema-3.JPG)

Utilizamos estos tres poemas primero pero eran muy largos y no cabían en la pantalla del arduino, por lo que decidimos utilizar unos poemas cortos japoneses llamados Haikus.

// declarar valor
// inicializar 0

int valorPot;

void setup() {
    Serial.begin(9600);
}

void loop() {
    // leer el valor analógico
    valorPot = analogRead(A0);
}

### Potenciómetro ¿Cómo colocar un potenciómetro al arduino?

-El menor valor que puede hacer es 0 y el máximo es 1023.
  -Se escribe en digital y se lee en analógico.
  -Los comandos para escribir o leer en analóco y digital:

|Leer|-|
|---|---|
|Analógico|analogRead|
|Digital|digitalread()|

|Escribir|-|
|---|---|
|Analógico|analogWrite()|
|digital|digitalWrite()|

![analoga vs digital](./imagenes/analogVSdigital.jpg)

```cpp
// declarar valor
// inicializar 0

int valorPot;

void setup() {
    Serial.begin(9600);
}

void loop() {
    // leer el valor analógico
    valorPot = analogRead(A0);

}
```

Código hecho en [Wokwi](https://wokwi.com/projects/440360994230097921)

```cpp
// declarar valor
// inicializar 0
int valorPot = 0;

String verso0;
String verso1;
String verso2;

void setup() {
  // put your setup code here, to run once:
  Serial.begin(9600);

  verso0 = "ventilador";
  verso1 = "techo";
  verso2 = "lampara";

}

void loop() {
  // put your main code here, to run repeatedly:
  
  // leer el valor
  valorPot = analogRead(A0);

  if (valorPot < 300) {
    // aca esta entre 0 y 300-1
    Serial.println(verso0);
  }
  else if (valorPot < 600) {
    // aca esta entre 300 y 600
    Serial.println(verso1);
  } else {
    // aca esta mayor que 600
    Serial.println(verso2);
  }

  
  // Serial.println(valorPot);
}
```

![Potenciometro en Wokwi](./imagenes/potenciometroWokwi.png)

![Potenciometro en Wokwi](./imagenes/potenciometroWokwi-2.png)

### Imágenes de proceso en clases y en casa

- Primer código de proceso, este código es el ejemplo que utilizamos en clases, solo que le agregamos más ${\color{blue}String}$(): </br> para poder visualizar nuestro poema en el arduino. Utilizamos este ejemplo para entender como funcionaba el tema de los ${\color{blue}String}$(): </br> y así poder agregar más frases al código.

```cpp
#include <Wire.h>
#include <Adafruit_GFX.h>
#include <Adafruit_SSD1306.h>

#define SCREEN_WIDTH 128
#define SCREEN_HEIGHT 64
#define OLED_RESET -1
Adafruit_SSD1306 pantallita(SCREEN_WIDTH, SCREEN_HEIGHT, &Wire, OLED_RESET);

int contador = 0;

String linea0;
String linea1;
String linea2;
String linea3;
String linea4;
String linea5;
String linea6;

void setup() {
  if(!pantallita.begin(SSD1306_SWITCHCAPVCC, 0x3C)) {
    Serial.println(F("No se encontró la pantalla SSD1306"));
    for(;;);
  }
  pantallita.clearDisplay();
  pantallita.setTextColor(SSD1306_WHITE);

  linea0 = "Casi cruzo la barrera";
  linea1 = "del espejo para ver";
  linea2 = "lo que no se puede ver";
  linea3 = "el mundo como seria";
  linea4 = "si la realidad copiara";
  linea5 = "y no al reves, el espejo";
  linea6 = "llena, porfin, de su nada.";
}

void loop() {
  pantallita.clearDisplay(); // Limpiamos toda la pantalla
  
  testscrolltext(linea0, 300);
  testscrolltext(linea1, 300);
  testscrolltext(linea2, 600);
  testscrolltext(linea3, 600);
  testscrolltext(linea4, 600);
  testscrolltext(linea5, 600);
  testscrolltext(linea6, 600);
  
  pantallita.display(); // Actualiza la pantalla


}


// void testscrolltext(void) {
  // cambiar la linea anterior
  // para agregar parametro String
  // de input
  // y tambien int para delays
  void testscrolltext(String texto, int pausa) {
  pantallita.clearDisplay();

  pantallita.setTextSize(2); // Draw 2X-scale text
  pantallita.setTextColor(SSD1306_WHITE);
  pantallita.setCursor(10, 0);
  // pantallita.println(F("scroll"));
  // mod que le hice yo
  pantallita.println(texto);

  pantallita.display();      // Show initial text
  delay(100);

  // Scroll in various directions, pausing in-between:
  pantallita.startscrollright(0x00, 0x0F);
  delay(pausa);
  pantallita.stopscroll();
  delay(pausa);
  pantallita.startscrollleft(0x00, 0x0F);
  delay(pausa);
  pantallita.stopscroll();
  delay(pausa);
  pantallita.startscrolldiagright(0x00, 0x07);
  delay(pausa);
  pantallita.startscrolldiagleft(0x00, 0x07);
  delay(pausa);
  pantallita.stopscroll();
  delay(pausa);
}
```

![proceso 1](./imagenes/procesos/proceso-1.jpg)

- Segundo código de proceso, donde comenzamos a trabajar con el espiral, entiendo como iban los parámetros de la fórmula aplicada y ver en que podíamos ajustarla; ajustar las letras era lo más complicado porque se veían dispersas en la pantalla

```cpp
#include <Wire.h>
#include <Adafruit_GFX.h>
#include <Adafruit_SSD1306.h>

#define SCREEN_WIDTH 128
#define SCREEN_HEIGHT 64
#define OLED_RESET -1
Adafruit_SSD1306 pantallita(SCREEN_WIDTH, SCREEN_HEIGHT, &Wire, OLED_RESET);

String lineas[7];

int cx = SCREEN_WIDTH / 2;   // centro de la pantalla en X
int cy = SCREEN_HEIGHT / 2;  // centro en Y

void setup() {
  if(!pantallita.begin(SSD1306_SWITCHCAPVCC, 0x3C)) {
    for(;;); // si no detecta la pantalla, se queda aquí
  }

  pantallita.clearDisplay();
  pantallita.setTextColor(SSD1306_WHITE);
  pantallita.setTextSize(1);

  // Poema escrito en varias lineas
  lineas[0] = "Casi cruzo la barrera";
  lineas[1] = "del espejo para ver";
  lineas[2] = "lo que no se puede ver";
  lineas[3] = "el mundo como seria";
  lineas[4] = "si la realidad copiara";
  lineas[5] = "y no al reves, el espejo";
  lineas[6] = "llena, porfin, de su nada.";
}

void loop() {
  pantallita.clearDisplay();

  // aca se une todas las lineas en un solo string largo
  String poema = "";
  for (int i = 0; i < 7; i++) {
    poema += lineas[i] + " ";
  }

  mostrarPoemaEspiral(poema);

  delay(5000); // aca es donde se espera para volver a reiniciar el codigo
}

// función que escribe el poema en espiral
void mostrarPoemaEspiral(String texto) {
  float r = 5;          // radio inicial
  float dr = 2;         // aumento de radio
  float theta = 0;      // ángulo inicial
  float dtheta = 0.4;   // cuánto avanza el ángulo por letra

  for (int i = 0; i < texto.length(); i++) {
    int x = cx + r * cos(theta);
    int y = cy + r * sin(theta);

    // asegurar que no se salga de la pantalla
    if (x >= 0 && x < SCREEN_WIDTH - 6 && y >= 0 && y < SCREEN_HEIGHT - 8) {
      pantallita.setCursor(x, y);
      pantallita.write(texto[i]);
      pantallita.display();
    }

    delay(120);   // velocidad en la que aparece el espiral

    theta += dtheta;
    r += dr * dtheta / (2 * PI);
  }
}
```

![proceso 2](./imagenes/procesos/proceso-2.png)

Acá cambiamos estos parámetros para editar el espiral

![proceso 2.1](./imagenes/procesos/proceso-2.1.png)

![proceso 2.2](./imagenes/procesos/proceso-2.2.png)

```cpp
 // función que escribe el poema en espiral
void mostrarPoemaEspiral(String texto) {
  float r = 5;          // radio inicial
  float dr = 2;         // aumento de radio
  float theta = 0;      // ángulo inicial
  float dtheta = 0.4;   // cuánto avanza el ángulo por letra
```

![proceso 2.3](./imagenes/procesos/proceso-2.3.png)

![proceso 2.4](./imagenes/procesos/proceso-2.4.png)

- Tercer código de proceso. Al hacer el código anterior, preguntamos a un estudiante de informática y nos dió este código, donde agregó una función que hacía que dibujara el espiral como un agujero negro, es decir, que generaba el espiral del poema completo y luego iba desapareciendo desde el centro, pero aún así las letras estaban dispersas y no se veían bien. Además no lo utilizamos porque no entendíamos la función del "buffer".

```cpp
#include <Wire.h>
#include <Adafruit_GFX.h>
#include <Adafruit_SSD1306.h>

#define SCREEN_WIDTH 128
#define SCREEN_HEIGHT 64
#define OLED_RESET -1
Adafruit_SSD1306 pantallita(SCREEN_WIDTH, SCREEN_HEIGHT, &Wire, OLED_RESET);

// Líneas del poema
String linea0;
String linea1;
String linea2;
String linea3;
String linea4;
String linea5;
String linea6;

// Centro de la pantalla
int cx = SCREEN_WIDTH / 2;
int cy = SCREEN_HEIGHT / 2;

// Parámetros de la espiral
float r = 5;          // radio inicial
float dr = 3.5;       // incremento de radio
float theta = 0;      // ángulo inicial
float dtheta = 0.7;   // incremento angular

// Buffer de letras para efecto "agujero negro"
struct Letra {
  char c;
  int x;
  int y;
};
const int maxLetras = 100; // máximo de letras visibles
Letra espiral[maxLetras];
int inicio = 0;
int fin = 0;

void setup() {
  if(!pantallita.begin(SSD1306_SWITCHCAPVCC, 0x3C)) {
    Serial.println(F("No se encontró la pantalla SSD1306"));
    for(;;);
  }
  pantallita.clearDisplay();
  pantallita.setTextColor(SSD1306_WHITE);
  pantallita.setTextSize(1);

  // Inicializamos el poema
  linea0 = "Casi cruzo la barrera";
  linea1 = "del espejo para ver";
  linea2 = "lo que no se puede ver";
  linea3 = "el mundo como seria";
  linea4 = "si la realidad copiara";
  linea5 = "y no al reves, el espejo";
  linea6 = "llena, porfin, de su nada.";
}

void loop() {
  // Unir todas las líneas en un solo texto
  String poema = "";
  poema += linea0 + " ";
  poema += linea1 + " ";
  poema += linea2 + " ";
  poema += linea3 + " ";
  poema += linea4 + " ";
  poema += linea5 + " ";
  poema += linea6 + " ";

  mostrarPoemaEspiral(poema);

  delay(3000); // espera antes de repetir la animación
}

// Función que dibuja la espiral con efecto "agujero negro"
void mostrarPoemaEspiral(String texto) {
  for (int i = 0; i < texto.length(); i++) {
    int x = cx + r * cos(theta);
    int y = cy + r * sin(theta);

    // Guardar la letra en el buffer
    espiral[fin] = {texto[i], x, y};
    fin = (fin + 1) % maxLetras;

    // Si el buffer se llena, mover inicio para borrar la letra más antigua
    if (fin == inicio) {
      inicio = (inicio + 1) % maxLetras;
    }

    // Limpiar pantalla
    pantallita.clearDisplay();

    // aca se muestra todas las letras a medida que avanza el espiral 
    int idx = inicio;
    while (idx != fin) {
      pantallita.setCursor(espiral[idx].x, espiral[idx].y);
      pantallita.write(espiral[idx].c);
      idx = (idx + 1) % maxLetras;
    }

    pantallita.display();
    delay(100); 

    // a cuanto se actualiza el espiral
    theta += dtheta;
    r += dr * dtheta / (2 * 3.1416);
  }
}
```

![proceso 3](./imagenes/procesos/proceso-3.png)

![proceso 3.1](./imagenes/procesos/proceso-3.1.png)

- Cuarto código de proceso. En este código cambiamos la función ${\color{blue}void, int, fin}$(): por un ${\color{blue}loop}$(): </br> donde utilizamos un ${\color{blue}float}$(): </br> donde le dimos un espacio a los números décimales, agregando una fórmula de ángulo y radio. Pero se nos olvidó colocar la función para que girara, así que solo se ve el espiral, no se mueve.

```cpp
void loop() {
  pantallita.clearDisplay();

  float centroX = SCREEN_WIDTH / 2;
  float centroY = SCREEN_HEIGHT / 2;
  float angulo = 0;
  float radio = 5;    // radio inicial
  float pasoAngulo = 0.35; // qué tan apretado la espiral
  float pasoRadio = 0.8;   // cuánto aumenta el radio en cada letra
```

![proceso 4](./imagenes/procesos/proceso-4.png)

- Quinto código proceso. Acá ya le agregamos la función donde se mueve el espiral

```cpp
void loop() {
  pantallita.clearDisplay();

  float centroX = SCREEN_WIDTH / 2;
  float centroY = SCREEN_HEIGHT / 2;
  float angulo = 0;
  float radio = 4;          // radio inicial
  float pasoAngulo = 0.35;  // qué tan apretada la espiral
  float pasoRadio = 0.25;   // a cuanto crece va creciendo el espiral

  for (int i = 0; i < poema.length(); i++) {
    char c = poema.charAt(i);

    int x = centroX + radio * cos(angulo);
    int y = centroY + radio * sin(angulo);

    pantallita.setCursor(x, y);
    pantallita.write(c);
    pantallita.display();

    // Avanzamos en la espiral
    angulo += pasoAngulo;
    radio += pasoRadio;
```

![proceso 5](./imagenes/procesos/proceso-5.png)

- Sexto código de proceso. Aquí ya ibamos jugando con los números del ángulo, radio y texto para ver como es que se veía mejor.

```cpp
void loop() {
  pantallita.clearDisplay();

  float centroX = SCREEN_WIDTH / 2;
  float centroY = SCREEN_HEIGHT / 2;
  float angulo = 0;
  float radio = 10;         // radio inicial
  float pasoAngulo = 0.35;  // aumento de angulo
  float pasoRadio = 0.35;   // este hace que crezca un poco más rápido
```

![proceso 6](./imagenes/procesos/proceso-6.png)

- Séptimo código de proceso. Acá incorporamos la función para que aparezca la imagen, moviendo la perilla del potenciómetro

```cpp
#include <Wire.h>
#include <Adafruit_GFX.h>
#include <Adafruit_SSD1306.h>
#include <math.h>

#define SCREEN_WIDTH 128
#define SCREEN_HEIGHT 64
#define OLED_RESET -1
Adafruit_SSD1306 pantallita(SCREEN_WIDTH, SCREEN_HEIGHT, &Wire, OLED_RESET);

int potPin = A0; // Pin del potenciómetro

// Poema en espiral
String poema = "I hear the voice. The song begins. Slowly i fall asleep";

// Imagen (bitmap)
const unsigned char nubezzz[] PROGMEM = {
  // Aquí va tu array completo de la imagen
  0xff, 0xff, 0xff, 0xff, // ... y el resto
};

void setup() {
  Serial.begin(9600);
  if(!pantallita.begin(SSD1306_SWITCHCAPVCC, 0x3C)) {
    for(;;);
  }
  pantallita.clearDisplay();
  pantallita.setTextColor(SSD1306_WHITE);
}

void loop() {
  int valor = analogRead(potPin);

  pantallita.clearDisplay();

  if(valor <= 341){
    // Mostrar poema en espiral
    float centroX = SCREEN_WIDTH / 2;
    float centroY = SCREEN_HEIGHT / 2;
    float angulo = 0;
    float radio = 8;
    float pasoAngulo = 0.4;
    float pasoRadio = 0.6;

    for (int i = 0; i < poema.length(); i++) {
      char c = poema.charAt(i);
      int x = centroX + radio * cos(angulo);
      int y = centroY + radio * sin(angulo);

      pantallita.setCursor(x, y);
      pantallita.write(c);
      pantallita.display();

      angulo += pasoAngulo;
      radio += pasoRadio;
      delay(80);
    }
  }
  else if(valor <= 682){
    // Mostrar texto normal
    pantallita.setTextSize(1);
    pantallita.setCursor(0, 0);
    pantallita.display();
    delay(1000);
  }
  else{
    // Mostrar imagen
    pantallita.drawBitmap(0, 0, nubezzz, 128, 64, WHITE);
    pantallita.display();
    delay(1000);
  }
}
```

![proceso 7](./imagenes/procesos/proceso-7.png)

- Cambiamos algunas cosas más hasta llegar a nuestro código final. Agregamos un ${\color{blue}String}$(): </br> después del poema y antes de la imagen para mostrar el nombre del autor en la pantalla.

```cpp
// Wire.h sirve para que el arduino se comunique con otros aparatos
// Adafruit_GFX sirve para dibujar, como lineas, circulos y letras
// Adafruit_SSD1306 sirve para manejar mejor las pantallas pequeñas
// math.h sirve para hacer los espirales, utilizando cos() y sin()
#include <Wire.h>
#include <Adafruit_GFX.h>
#include <Adafruit_SSD1306.h>
#include <math.h>

// Acá definimos las medidas de la pantalla
#define SCREEN_WIDTH 128
#define SCREEN_HEIGHT 64
#define OLED_RESET -1
Adafruit_SSD1306 pantallita(SCREEN_WIDTH, SCREEN_HEIGHT, &Wire, OLED_RESET);

int potPin = A0; // Pin del potenciómetro

// Poema en espiral
String poema = "Cerezo invernal. Lo vi tan desolado y me detuve.";

// Nombre autor
String mensaje = "--- Kajin Aioigaki";

// Insertamos imagen de la flor de cerezo
const unsigned char florCerezo[] PROGMEM = {
  // Este codigo lo obtuvimos de image2cpp
  0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 
 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 
 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 
 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 
 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 
 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 
 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 
 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 
 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xf9, 0xe3, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 
 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xf0, 0x01, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 
 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xe0, 0x00, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 
 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xc0, 0x00, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 
 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0x80, 0x00, 0x7f, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 
 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0x80, 0x00, 0x7f, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 
 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0x00, 0x00, 0x3f, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 
 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0x00, 0x00, 0x3f, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 
 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0x00, 0x00, 0x3f, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 
 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0x00, 0x00, 0x1f, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 
 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0x00, 0x00, 0x1f, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 
 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0x00, 0xe0, 0x1f, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 
 0xff, 0xff, 0xff, 0xff, 0xff, 0xfc, 0x07, 0x81, 0xe0, 0x78, 0x07, 0xff, 0xff, 0xff, 0xff, 0xff, 
 0xff, 0xff, 0xff, 0xff, 0xff, 0xe0, 0x00, 0xe1, 0xf1, 0xc0, 0x01, 0xff, 0xff, 0xff, 0xff, 0xff, 
 0xff, 0xff, 0xff, 0xff, 0xff, 0x80, 0x00, 0x39, 0xe3, 0x00, 0x00, 0x7f, 0xff, 0xff, 0xff, 0xff, 
 0xff, 0xff, 0xff, 0xff, 0xff, 0x80, 0x00, 0x0c, 0xc4, 0x00, 0x00, 0x7f, 0xff, 0xff, 0xff, 0xff, 
 0xff, 0xff, 0xff, 0xff, 0xff, 0x80, 0x00, 0x06, 0xc8, 0x00, 0x00, 0x7f, 0xff, 0xff, 0xff, 0xff, 
 0xff, 0xff, 0xff, 0xff, 0xff, 0x80, 0x00, 0x03, 0xd0, 0x00, 0x00, 0x7f, 0xff, 0xff, 0xff, 0xff, 
 0xff, 0xff, 0xff, 0xff, 0xff, 0x80, 0x00, 0x01, 0xe0, 0x00, 0x00, 0x7f, 0xff, 0xff, 0xff, 0xff, 
 0xff, 0xff, 0xff, 0xff, 0xff, 0x80, 0x00, 0x01, 0xe0, 0x00, 0x00, 0x3f, 0xff, 0xff, 0xff, 0xff, 
 0xff, 0xff, 0xff, 0xff, 0xff, 0x00, 0x1c, 0x00, 0xc0, 0x0e, 0x00, 0x1f, 0xff, 0xff, 0xff, 0xff, 
 0xff, 0xff, 0xff, 0xff, 0xfe, 0x00, 0x3e, 0x00, 0xc0, 0x1f, 0x00, 0x0f, 0xff, 0xff, 0xff, 0xff, 
 0xff, 0xff, 0xff, 0xff, 0xfe, 0x00, 0x3f, 0x00, 0xc0, 0x3f, 0x00, 0x1f, 0xff, 0xff, 0xff, 0xff, 
 0xff, 0xff, 0xff, 0xff, 0xff, 0x00, 0x1f, 0xf0, 0xc1, 0xff, 0x00, 0x1f, 0xff, 0xff, 0xff, 0xff, 
 0xff, 0xff, 0xff, 0xff, 0xff, 0x00, 0x0c, 0xfe, 0xcf, 0xce, 0x00, 0x3f, 0xff, 0xff, 0xff, 0xff, 
 0xff, 0xff, 0xff, 0xff, 0xff, 0x80, 0x01, 0xff, 0xfe, 0x00, 0x00, 0x3f, 0xff, 0xff, 0xff, 0xff, 
 0xff, 0xff, 0xff, 0xff, 0xff, 0x80, 0x07, 0x00, 0xf0, 0x00, 0x00, 0x7f, 0xff, 0xff, 0xff, 0xff, 
 0xff, 0xff, 0xff, 0xff, 0xff, 0xc0, 0x0c, 0x01, 0xc0, 0x00, 0x00, 0xff, 0xff, 0xff, 0xff, 0xff, 
 0xff, 0xff, 0xff, 0xff, 0xff, 0xf0, 0x18, 0x03, 0x60, 0x00, 0x01, 0xff, 0xff, 0xff, 0xff, 0xff, 
 0xff, 0xff, 0xff, 0xff, 0xff, 0xf8, 0x30, 0x02, 0x30, 0x00, 0x07, 0xff, 0xff, 0xff, 0xff, 0xff, 
 0xff, 0xff, 0xff, 0xff, 0xff, 0xfe, 0x60, 0x06, 0x1c, 0x00, 0x1f, 0xff, 0xff, 0xff, 0xff, 0xff, 
 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xc0, 0x0e, 0x0f, 0x00, 0x7f, 0xff, 0xff, 0xff, 0xff, 0xff, 
 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0x80, 0x0c, 0x0f, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 
 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0x00, 0x1c, 0x07, 0x00, 0x3f, 0xff, 0xff, 0xff, 0xff, 0xff, 
 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0x00, 0x34, 0x03, 0x00, 0x1f, 0xff, 0xff, 0xff, 0xff, 0xff, 
 0xff, 0xff, 0xff, 0xff, 0xff, 0xfe, 0x00, 0xf4, 0x01, 0xe0, 0x1f, 0xff, 0xff, 0xff, 0xff, 0xff, 
 0xff, 0xff, 0xff, 0xff, 0xff, 0xfe, 0x01, 0xf6, 0x03, 0xe0, 0x1f, 0xff, 0xff, 0xff, 0xff, 0xff, 
 0xff, 0xff, 0xff, 0xff, 0xff, 0xfe, 0x01, 0xf2, 0x03, 0xe0, 0x0f, 0xff, 0xff, 0xff, 0xff, 0xff, 
 0xff, 0xff, 0xff, 0xff, 0xff, 0xfc, 0x00, 0xe2, 0x01, 0xe0, 0x0f, 0xff, 0xff, 0xff, 0xff, 0xff, 
 0xff, 0xff, 0xff, 0xff, 0xff, 0xfc, 0x00, 0x02, 0x00, 0x00, 0x0f, 0xff, 0xff, 0xff, 0xff, 0xff, 
 0xff, 0xff, 0xff, 0xff, 0xff, 0xfc, 0x00, 0x01, 0x00, 0x00, 0x0f, 0xff, 0xff, 0xff, 0xff, 0xff, 
 0xff, 0xff, 0xff, 0xff, 0xff, 0xfc, 0x00, 0x01, 0x80, 0x00, 0x0f, 0xff, 0xff, 0xff, 0xff, 0xff, 
 0xff, 0xff, 0xff, 0xff, 0xff, 0xfc, 0x00, 0x00, 0x80, 0x00, 0x0f, 0xff, 0xff, 0xff, 0xff, 0xff, 
 0xff, 0xff, 0xff, 0xff, 0xff, 0xfc, 0x00, 0x00, 0xc0, 0x00, 0x0f, 0xff, 0xff, 0xff, 0xff, 0xff, 
 0xff, 0xff, 0xff, 0xff, 0xff, 0xfc, 0x00, 0x00, 0xe0, 0x00, 0x0f, 0xff, 0xff, 0xff, 0xff, 0xff, 
 0xff, 0xff, 0xff, 0xff, 0xff, 0xfe, 0x00, 0x01, 0xe0, 0x00, 0x0f, 0xff, 0xff, 0xff, 0xff, 0xff, 
 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xc0, 0x03, 0xf0, 0x00, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 
 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xe0, 0x07, 0xfc, 0x01, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 
 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xe0, 0x1f, 0xfe, 0x01, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 
 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xf0, 0xff, 0xff, 0xc3, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 
 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 
 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 
 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 
 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 
 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 
 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff
};

// void setup, sirve para que la acción se realice una vez
void setup() {
  Serial.begin(9600);
  if(!pantallita.begin(SSD1306_SWITCHCAPVCC, 0x3C)) {
    for(;;); // Si no encuentra la pantalla se "pega" aca
  }
  pantallita.clearDisplay(); // sirve para limpiar la pantalla antes de que aparezca el texto
  pantallita.setTextColor(SSD1306_WHITE); // este es el color del texto, pero no sabemos por que no aparece en blanco
}

// es un bucle que hace que el codigo se repita una y otra vez
void loop() {
  int valor = analogRead(potPin);

  pantallita.clearDisplay();

  if(valor <= 341){
    // float sirve para declarar numeros decimales, estos numeros hace que el poema este en espiral
    float centroX = SCREEN_WIDTH / 2; // este sirve para calcular la mitad de la pantalla
    float centroY = SCREEN_HEIGHT / 2; // este sirve para calcular la mitad de la pantalla
    float angulo = 0;
    float radio = 8; // Radio inicial del espiral
    float pasoAngulo = 0.4; // Separacion del angulo, cuanto avanza en cada letra
    float pasoRadio = 0.6; // Cuanto se aleja del centro cada vez mas

// for es la iteracion, es decir que en este caso recorre letra por letra para que aparezca en la pantalla
    for (int i = 0; i < poema.length(); i++) {
      char c = poema.charAt(i);
      int x = centroX + radio * cos(angulo); // aqui se calcula en que posicion del espiral va cada letra
      int y = centroY + radio * sin(angulo);

      pantallita.setCursor(x, y);
      pantallita.write(c);
      pantallita.display(); // sirve para mostrar el "calculo" del espiral en la pantalla

// cuanto avanza en el espiral, es decir, que el angulo 0 va aumentando 0.4 cada vez que avanza y lo mismo con el radio
      angulo += pasoAngulo;
      radio += pasoRadio;
      delay(80); // es el tiempo en que van apareciendo las letras
    }

  // else sirve para ejecutar una condición, si if cumple, se ejecutara else
 // es decir, que si el valor del potenciometro es menor a 682 mostrara el texto en espiral
  }
  else if(valor <= 682){
    // Mostrar texto en espiral
    pantallita.setTextSize(0.3);
    pantallita.setCursor(0, 0);
  pantallita.println(mensaje); // aqui se muestra el nombre del autor
    pantallita.display();
    delay(1000);
  }
 // este else no tiene () porque no cumple una condicion para que suceda, entonces si el valor es mayor a 682, se mostrara la imagen
  else{
    // Mostrar imagen florCerezo
    pantallita.drawBitmap(0, 0, florCerezo, 128, 64, WHITE);
    pantallita.display();
    delay(1000);
  }
}
```

![proceso final 1](./imagenes/procesos/proceso-final-1.png)

![proceso final 2](./imagenes/procesos/proceso-final-2.png)

![proceso final 3](./imagenes/procesos/proceso-final-3.png)
